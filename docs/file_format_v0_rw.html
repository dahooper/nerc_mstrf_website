---
layout: default
title: Format of MST Radar radial data files
---

Users are encouraged to make use of <A
href="file_format_v2_radial.html">Version-2 radial files.</A><BR>
<A href="sig_proc_version_nrs.html">Click here</A> to find out more about
the different versions of the signal processing.<BR><BR>

<B>File contents</B><BR> These files contain unaveraged radial
(i.e. along-beam) profiles of the radar return parameters
(signal-to-noise ratio, signal power, Doppler shift and signal width)
for different beam pointing directions.<BR>
<A href="file_contents.html">Click here</A> to find out about the
contents of other files.<BR><BR>

<B>File naming convention: </B><BR>

<CENTER><FONT
class="code_black">rwYYMMDD.tgz</FONT></CENTER><BR>

<TABLE bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0">
  <TR>
    <TD><IMG width="20" src="FIGS/pixel_white.png"></TD>
    <TD valign="top"><FONT class="code_black">YY</FONT></TD>
    <TD><IMG width="20" src="FIGS/pixel_white.png"></TD>
    <TD valign="top">is a 2-digit year [00 - 99]</TD>
  </TR>
  <TR>
    <TD></TD>
    <TD valign="top"><FONT class="code_black">MM</FONT></TD>
    <TD></TD>
    <TD valign="top">is a 2-digit month [01 - 12]</TD>
  </TR>
  <TR>
    <TD></TD>
    <TD valign="top"><FONT class="code_black">DD</FONT></TD>
    <TD></TD>
    <TD valign="top">is a 2-digit day [01 - 31]</TD>
  </TR>
  <TR>
    <TD></TD>
    <TD valign="top"><FONT class="code_black">tgz</FONT></TD>
    <TD></TD>
    <TD valign="top">indicates that this is a <FONT
    class="code_black">tar</FONT> file which has been compressed with the GNU
    <FONT class="code_black">gzip</FONT> algorithm</TD>
  </TR>
</TABLE><BR>

<A href="file_naming_conventions.html">Click here</A> for the background
to the file naming convention, and <A
href="file_naming_conventions.html#gzip">here</A> to find out how to deal with
compressed files. The tar file contains the order of 50 files per
day. These individual files have the following naming convention:<BR><BR>

<CENTER><FONT
class="code_black">rwYYMMDD_hhmm.dd</FONT></CENTER><BR>

<TABLE bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0">
  <TR>
    <TD><IMG width="20" src="FIGS/pixel_white.png"></TD>
    <TD valign="top"><FONT class="code_black">hh</FONT></TD>
    <TD><IMG width="20" src="FIGS/pixel_white.png"></TD>
    <TD valign="top">is a 2-digit hour [00 - 23]</TD>
  </TR>
  <TR>
    <TD></TD>
    <TD valign="top"><FONT class="code_black">mm</FONT></TD>
    <TD></TD>
    <TD valign="top">is a 2-digit minute [00 - 59]</TD>
  </TR>
  <TR>
    <TD></TD>
    <TD valign="top"><FONT class="code_black">dd</FONT></TD>
    <TD></TD>
    <TD valign="top">is the integer number of minutes covered by the
    file. The number of digits used is variable and is the minimum
    number required for the particular file duration.</TD>
  </TR>
</TABLE><BR>

<B>File location: </B><A
  href="http://badc.nerc.ac.uk/getdata/data_browser/badc/mst/data/mst-products-v0/rw"><FONT
  class="code_black">/badc/mst/data/mst-products-v0/rw/</FONT></A><BR>
<A href="data_locations.html">Click here</A> for the location of other files.<BR><BR>

<B>Archiving convention: </B><FONT class="code_black">YYYY</FONT><BR>
<A href="archiving_conventions.html">Click here</A> for a further explanation.<BR><BR>

<B>File availability</B><BR>
1989 to the present.<BR><BR>

<B>File format</B><BR>
The first six lines of the individual file <B>rw010903_2142.22</B> are
shown as follows by way of example:</P>

<PRE><FONT class="code_green">
    4  1  0.80  1  1  1  1    4.0
    5  1 11  8 3  320  512  128  1 2  1323
    6 101  9  3 21 42 38  18 147   0   0 1
    7  18   0.039  0.381   62.4   37.6
    7  19   0.024  0.381   66.7   41.9
    7  20   0.037  0.381   72.5   47.7
</FONT></PRE>

<P>The first (integer) number in each line indicates the line type
which determines its subsequent contents. Line type 4 occurs only
once, at the very beginning of the file, and can be ignored; line type
0 indicates the end of file. Line types 5 and 6 contain header
information describing the observational parameters used for each
"dwell" (i.e. observations made in a particular beam direction at a
given time) and line type 7 contains data at given "range gates" for
that dwell. The file therefore contains a line sequence of the
form:</P>


<FONT class="code_green">
  4 5 6 7 7 . . 7 7 5 6 7 7 . . 7 7 5 6 7 7 . . 7 7 5 6 7 7 . . . .  7 7 0<BR>
</FONT>

<P>The contents of line types 5, 6 and 7 are described in greater
detail below. The parameter names shown in red do not actually appear
in the files and the inter-parameter spacings (for actual file
contents shown in green) have been altered for the sake of clarity</P>

<B>Line type: <FONT class="code_green">5</FONT></B><BR>
<PRE>
<FONT class="code_green">  5     1    11  8     3      320  512  128   1    2     1323</FONT>
<FONT class="code_red">  LTYP  DWL  BM  PLEN  PCODE  IPP  NCI  LDFT  NII  RXBW  RUN</FONT>
</PRE>

<DL>
  <DD><FONT class="code_red">LTYP</FONT> - Line type
  <DD><FONT class="code_red">DWL</FONT> - Dwell number;
      <FONT class="code_red">DWL == 1</FONT> corresponds to the beginning
      of a new cycle of observation
  <DD><FONT class="code_red">BM</FONT> - Beam number (in the range 0 - 16)
      which determines the beam pointing direction
  <DD><FONT class="code_red">PLEN</FONT> - Radar pulse length (us)
  <DD><FONT class="code_red">PCODE</FONT> - Pulse coding option
      (0 - no coding; 1 - 8 us sub-pulse coding; 2 - 4 us; 3 - 2 us; 4 - 1 us)
  <DD><FONT class="code_red">IPP</FONT> - Inter-pulse period (us)
  <DD><FONT class="code_red">NCI</FONT> - Number of coherent integrations
  <DD><FONT class="code_red">LDFT</FONT> - Length of discrete Fourier
      transform (64, 128, 256 or 512)
  <DD><FONT class="code_red">NII</FONT> - Number of incoherent integrations
  <DD><FONT class="code_red">RXBW</FONT> - Receiver bandwidth (us)
  <DD><FONT class="code_red">RUN</FONT> - Radar run number
</DL>

<P>The range resolution of the radar is determined by the receiver
bandwidth (<FONT class="code_red">RXBW</FONT>) which, in practice, is
matched to the pulse length, or to the sub-pulse length if pulse
coding is used:</P>


<DL>
  <DD>1 us - 150 m
  <DD>2 us - 300 m
  <DD>4 us - 600 m
  <DD>8 us - 1200 m
</DL>

<BR>
<B>Line type: <FONT class="code_green">6</FONT></B>
<PRE>
<FONT class="code_green">  6     101  9    3    21  42   38   18   147  0    0    1</FONT>
<FONT class="code_red">  LTYP  YR   MTH  DAY  HR  MIN  SEC  RG1  RG2  RG3  RG4  RGI</FONT>
</PRE> 

<DL>
  <DD><FONT class="code_red">LTYP</FONT> - Line type
  <DD><FONT class="code_red">YR</FONT> - Year of observation;
      for 1999 <FONT class="code_red">YR == 99</FONT>, for 2000
      <FONT class="code_red">YR == 100</FONT>
  <DD><FONT class="code_red">MTH</FONT> - Month of observation (0-12)
  <DD><FONT class="code_red">DAY</FONT> - Day of observation (1-31)
  <DD><FONT class="code_red">HR</FONT> - Hour of observation (0-23)
  <DD><FONT class="code_red">MIN</FONT> - Minute of observation (0-59)
  <DD><FONT class="code_red">SEC</FONT> - Second of observation (0-59)
  <DD><FONT class="code_red">RG1</FONT> - Bottom range gate of lower
      altitude region
  <DD><FONT class="code_red">RG2</FONT> - Top range gate of lower altitude
      region
  <DD><FONT class="code_red">RG3</FONT> - Bottom range gate of upper
      altitude region; <FONT class="code_red">RG3 == 0</FONT> for ST-mode
      observations
  <DD><FONT class="code_red">RG4</FONT> - Top range gate of upper altitude
      region; <FONT class="code_red">RG4 == 0</FONT> for ST mode observations
  <DD><FONT class="code_red">RGI</FONT> - Range gate interval in multiples of
      150 m, i.e. <FONT class="code_red">RGI == 1</FONT>implies samples
      at 150 m intervals
</DL>


<B>Line type: <FONT class="code_green">7</FONT></B><BR>
<PRE>
<FONT class="code_green">  7     18  0.039  0.381  62.4  37.6</FONT>
<FONT class="code_red">  LTYP  RG  DPSH   SPWD   P     S/N</FONT>
</PRE> 

<DL>
  <DD><FONT class="code_red">RG</FONT> - Range gate number (between
      <FONT class="code_red">RG1</FONT> and <FONT class="code_red">RG2</FONT>,
      or between <FONT class="code_red">RG3</FONT> and
      <FONT class="code_red">RG4</FONT>, inclusive) corresponding to
      altitudes above mean sea level (km) given by:
      <B>z = (<FONT class="code_red">RG</FONT> - RG0) &times; dz</B><BR><BR>
  <DL>
    <DD>RG0 = 5.2 if (<FONT class="code_red">PLEN == 1</FONT>)
    <DD>RG0 = 5.7 if (<FONT class="code_red">PLEN > 1</FONT>) &
	(<FONT class="code_red">RXBW == 1</FONT>)
    <DD>RG0 = 6.7 if (<FONT class="code_red">PLEN > 1</FONT>) &
        (<FONT class="code_red">RXBW == 2</FONT>)
    <DD>RG0 = 8.7 if (<FONT class="code_red">PLEN > 1</FONT>) &
        (<FONT class="code_red">RXBW == 4</FONT>)
    <DD>RG0 = 12.7 if (<FONT class="code_red">PLEN > 1</FONT>) &
        (<FONT class="code_red">RXBW == 8</FONT>)<BR><BR>

    <DD>dz = 0.15 &times; sin(0&deg;) = 0.1500 - if 
        (<FONT class="code_red">BM == 0</FONT>)
    <DD>dz = 0.15 &times; sin(4.2&deg;) = 0.1496 - if 
        (<FONT class="code_red">BM == 1</FONT>) or 
	(<FONT class="code_red">BM == 3</FONT>) or
	(<FONT class="code_red">BM == 5</FONT>) or
	(<FONT class="code_red">BM == 7</FONT>)
    <DD>dz = 0.15 &times; sin(6.0&deg;) = 0.1492 - if 
        (<FONT class="code_red">BM == 9</FONT>) or 
	(<FONT class="code_red">BM == 11</FONT>) or
	(<FONT class="code_red">BM == 13</FONT>) or
	(<FONT class="code_red">BM == 15</FONT>)
    <DD>dz = 0.15 &times; sin(8.5&deg;) = 0.1484 - if 
        (<FONT class="code_red">BM == 2</FONT>) or
	(<FONT class="code_red">BM == 4</FONT>) or
	(<FONT class="code_red">BM == 6</FONT>) or
	(<FONT class="code_red">BM == 8</FONT>)
    <DD>dz = 0.15 &times; sin(12.0&deg;) = 0.1467 - if 
        (<FONT class="code_red">BM == 10</FONT>) or
	(<FONT class="code_red">BM == 12</FONT>) or
	(<FONT class="code_red">BM == 14</FONT>) or
	(<FONT class="code_red">BM == 16</FONT>)
  </DL><BR>

  <DD><FONT class="code_red">DPSH</FONT> - Doppler shift (Hz). These values
      must be multiplied by (-&lambda;/2), where &lambda; is the radar
      wavelength (6.41 m), in order to convert them to radial
      velocities, v<SUB>R</SUB>, in (m s<SUP>-1</SUP>) for which +ve values
      imply motion away from the radar, i.e. <BR><B>v<SUB>R</SUB> = -3.20
      &times; <FONT class="code_red">DPSH</FONT></B><BR><BR>

  <DD><FONT class="code_red">SPWD</FONT> - Spectral width (Hz). The
    definition used to calculate these values (the width of the signal
    portion of the spectrum containing 80% of the signal power) is
    non-standard and so the values should be divided by a factor of
    2.56 to convert them to the half-width that contains 68.26% of the
    signal power, i.e. the standard deviation for a Gaussian shaped
    signal. Moreover, a factor of (&lambda;/2) must be applied to convert
    these values into velocity units of (m s<SUP>-1</SUP>), i.e:<BR>
    <B>&sigma;<SUB>SW</SUB> = 1.25 &times; <FONT class="code_red">SPWD</FONT>
    </B><BR><BR>

  <DD><FONT class="code_red">P</FONT> - Signal power (dB), where <B>P(dB) =
      10log<SUB>10</SUB>[P(linear)]</B><BR><BR>

  <DD><FONT class="code_red">S/N</FONT> - Signal-to-noise ratio (dB);
      signals for which <FONT class="code_red">S/N</FONT> < 4 dB are too
      weak for the values of <FONT class="code_red">DPSH</FONT> and
      <FONT class="code_red">SPWD</FONT> to be relied upon and so these
      values should be blanked. 
</DL><BR>

<!*** Links and references ***>
<A name="internal">
<DL><B>Internal Links:</B>
  <DD><A href="#top">Return to the top of the page</A>
  <DD><A href="data_access.html">Gaining access to the data</A>
  <DD><A href="file_naming_conventions.html">File naming convention</A>
  <DD><A href="archiving_conventions.html">Data archiving convention</A>
  <DD><A href="data_locations.html">Data locations</A>
  <DD><A href="sig_proc_version_nrs.html">The differences between
  signal processing versions</A>
  <DD><A href="file_contents.html">The contents of other data files</A>
</DL>

